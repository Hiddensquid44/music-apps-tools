<div class="layout">
    <p-card class="game-card">
        <div>
            <h2>Blindtest's playlist: {{ gameState.playlist.name }}</h2>
        </div>
        @if (gameState.gameStarted) {
            <div>
                @if (!gameState.gameEnded) {
                    <p>Song nÂ°{{ gameState.currentTrackIndex + 1 }}/{{ BLINDTEST_SIZE }}</p>
                }
                <p>Current score: {{ gameState.score }}</p>
            </div>
        }
        @if (!gameState.gameStarted) {
            <p>Please empty your player's queue before starting the blindtest.</p>
            <p-button label="Start blindtest" (onClick)="setupBlindtest()"/>
        }
        @if (gameState.gameEnded) {
            <div>
                <p>Game ended. Thank you for playing!</p>
            </div>
        }
    </p-card>
    @if (gameState.gameOnGoing) {
        <app-blindtest-game-quizz
            [goodTrack]="gameState.playlistTracks[gameState.currentTrackIndex]"
            [wrongTracksName]="gameState.wrongTracksNames"
            (trackScore)="roundFinished($event)"
        ></app-blindtest-game-quizz>
    }
</div>